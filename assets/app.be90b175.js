import{h as te,g as $,d as k,l as g,o as h,c as f,k as a,a as M,n as j,t as b,F as L,G as N,e as q,p as ze,m as Pe,_ as D,b as ge,M as Ee,j as me,w as Z,T as Ie,Q as Me,u as _e,z as Le,J as Y,N as Ae,R as Re,V as ee,a2 as Be,a3 as Ge,a4 as Ne,a5 as qe,a6 as We,a7 as De,a8 as Fe,a9 as Je,aa as Ve,ab as Ye,ac as Xe,A as He,ad as Ue,ae as Ke,af as Qe,ag as Ze}from"./chunks/framework.a1932d14.js";import{t as et}from"./chunks/theme.7e9c9326.js";const X=JSON.parse('[{"url":"/blog/interview/2022年面经.html","excerpt":"","title":"2022年面经","date":"2022-05-09","description":"三年半经验，成功拿下字节阿里网易offer","readMins":8,"tags":["JavaScript"]},{"url":"/blog/js/手写函数.html","excerpt":"","title":"手写函数","date":"2022-02-09","description":"手写常用函数的功能","readMins":8,"tags":["JavaScript"]},{"url":"/blog/leetcode/index.html","excerpt":"","title":"记录力扣日常","date":"2021-04-09","description":"记录自己的力扣之旅","readMins":8,"tags":["LeetCode"]},{"url":"/blog/js/代码规范.html","excerpt":"","title":"代码规范","date":"2020-12-04","description":"基于AirBnb整理的代码规范，包括prettier和eslint的整合方式，还有git-hooks的配置","readMins":8,"tags":["ESLint"]},{"url":"/blog/js/闭包详解.html","excerpt":"","title":"闭包详解","date":"2020-10-22","description":"自己理解的闭包","readMins":8,"tags":["JavaScript"]},{"url":"/blog/js/js模块化.html","excerpt":"","title":"js模块化","date":"2020-09-04","description":"深入浅出介绍js的模块化机制，包含手写CommonJS规范","readMins":8,"tags":["JavaScript"]},{"url":"/blog/js/浏览器常见问题.html","excerpt":"","title":"浏览器常见问题","date":"2020-08-17","description":"记录浏览器相关面试问题，包括重绘、重排等基础知识","readMins":8,"tags":["JavaScript"]},{"url":"/blog/js/手写promise.html","excerpt":"","title":"手写Promise","date":"2020-07-16","description":"从零开始实现一个Promise","readMins":8,"tags":["JavaScript"]}]'),A=te(1),R=te(10),be=()=>{const e=$(()=>X.length),t=$(()=>Math.ceil(e.value/R.value)),n=$(()=>{const o=(A.value-1)*R.value;if(A.value===t.value)return X.slice(o);{const s=A.value*R.value;return X.slice(o,s)}});return{currentPage:A,pageSize:R,total:e,totalPage:t,posts:n}},ye=e=>(ze("data-v-2f5b8ce4"),e=e(),Pe(),e),tt={key:0,class:"flex-1 flex items-center justify-between"},nt={class:"text-sm text-[--vp-c-text-2]"},ot={class:"flex items-center justify-center gap-2","aria-label":"Pagination"},st=ye(()=>a("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z","clip-rule":"evenodd"})],-1)),rt=[st],it=["onClick"],at=ye(()=>a("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[a("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),lt=[at],H="font-medium text-[--vp-c-brand]",ct=k({__name:"pagination",setup(e){const{currentPage:t,pageSize:n,total:o,totalPage:s}=be(),r=$(()=>(t.value-1)*n.value+1),l=$(()=>{const c=t.value*n.value;return c>o.value?o.value:c}),i=c=>{t.value!==c&&c<=s.value&&c>=1&&(t.value=c)};return(c,p)=>g(o)>g(n)?(h(),f("div",tt,[a("div",null,[a("p",nt,[M(" Showing "),a("span",{class:j(H)},b(r.value),1),M(" to "),a("span",{class:j(H)},b(l.value),1),M(" of "),a("span",{class:j(H)},b(g(o)),1),M(" results ")])]),a("nav",ot,[a("div",{class:j(["item",{"not-allowed":g(t)===1}]),onClick:p[0]||(p[0]=v=>i(g(t)-1))},rt,2),(h(!0),f(L,null,N(g(s),v=>(h(),f("div",{key:v,class:j(["item",{"border border-[--vp-c-brand] text-[--vp-c-brand]":g(t)===v}]),onClick:y=>i(v)},b(v),11,it))),128)),a("div",{class:j(["item",{"not-allowed":g(t)===g(s)}]),onClick:p[1]||(p[1]=v=>i(g(t)+1))},lt,2)])])):q("",!0)}});const ut=D(ct,[["__scopeId","data-v-2f5b8ce4"]]),dt={},ht={width:"24",height:"24",viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg","p-id":"1830"},ft=a("path",{d:"M512 1024C230.4 1024 0 793.6 0 512S230.4 0 512 0s512 230.4 512 512-230.4 512-512 512z m259.2-569.6H480c-12.8 0-25.6 12.8-25.6 25.6v64c0 12.8 12.8 25.6 25.6 25.6h176c12.8 0 25.6 12.8 25.6 25.6v12.8c0 41.6-35.2 76.8-76.8 76.8h-240c-12.8 0-25.6-12.8-25.6-25.6V416c0-41.6 35.2-76.8 76.8-76.8h355.2c12.8 0 25.6-12.8 25.6-25.6v-64c0-12.8-12.8-25.6-25.6-25.6H416c-105.6 0-188.8 86.4-188.8 188.8V768c0 12.8 12.8 25.6 25.6 25.6h374.4c92.8 0 169.6-76.8 169.6-169.6v-144c0-12.8-12.8-25.6-25.6-25.6z",fill:"#c71d24","p-id":"1831"},null,-1),pt=[ft];function vt(e,t){return h(),f("svg",ht,pt)}const gt=D(dt,[["render",vt]]),mt={},_t={role:"img",viewBox:"0 0 24 24",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",fill:"#059669"},bt=a("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},null,-1),yt=[bt];function wt(e,t){return h(),f("svg",_t,yt)}const xt=D(mt,[["render",wt]]),St={},Ot={xmlns:"http://www.w3.org/2000/svg","xml:space":"preserve",width:"24",height:"24",version:"1.1",style:{"shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd"},viewBox:"0 0 500 500","xmlns:xlink":"http://www.w3.org/1999/xlink"},Tt=a("g",{id:"图层_x0020_1"},[a("metadata",{id:"CorelCorpID_0Corel-Layer"}),a("circle",{cx:"250",cy:"250",r:"250",fill:"#006CFF"}),a("path",{id:"Fill-1-Copy",class:"fil1",d:"M285 138l-31 -24 -33 25 -2 2 35 27 34 -27 -3 -3zm119 95l-150 116 -151 -116 -22 17 173 134 173 -134 -23 -17zm-150 9l-82 -63 -23 17 105 81 104 -81 -22 -17 -82 63z",fill:"#fff"})],-1),jt=[Tt];function $t(e,t){return h(),f("svg",Ot,jt)}const Ct=D(St,[["render",$t]]),kt=["href","title"],we=k({__name:"icons",setup(e){const t=[{name:Ct,title:"Juejin: Recovery",url:"https://juejin.cn/user/1838039174496135"},{name:xt,title:"Github: cq360767996",url:"https://github.com/cq360767996"},{name:gt,title:"Gitee: cq360",url:"https://gitee.com/cq360"}];return(n,o)=>(h(),f(L,null,N(t,s=>a("a",{key:s.url,href:s.url,target:"_blank",class:"transition-opacity inline-block opacity-70 hover:opacity-100 mr-5",title:s.title},[(h(),ge(Ee(s.name)))],8,kt)),64))}});var B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Pt(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var xe=Pt,Et=typeof B=="object"&&B&&B.Object===Object&&B,It=Et,Mt=It,Lt=typeof self=="object"&&self&&self.Object===Object&&self,At=Mt||Lt||Function("return this")(),Se=At,Rt=Se,Bt=function(){return Rt.Date.now()},Gt=Bt,Nt=/\s/;function qt(e){for(var t=e.length;t--&&Nt.test(e.charAt(t)););return t}var Wt=qt,Dt=Wt,Ft=/^\s+/;function Jt(e){return e&&e.slice(0,Dt(e)+1).replace(Ft,"")}var Vt=Jt,Yt=Se,Xt=Yt.Symbol,Oe=Xt,se=Oe,Te=Object.prototype,Ht=Te.hasOwnProperty,Ut=Te.toString,I=se?se.toStringTag:void 0;function Kt(e){var t=Ht.call(e,I),n=e[I];try{e[I]=void 0;var o=!0}catch{}var s=Ut.call(e);return o&&(t?e[I]=n:delete e[I]),s}var Qt=Kt,Zt=Object.prototype,en=Zt.toString;function tn(e){return en.call(e)}var nn=tn,re=Oe,on=Qt,sn=nn,rn="[object Null]",an="[object Undefined]",ie=re?re.toStringTag:void 0;function ln(e){return e==null?e===void 0?an:rn:ie&&ie in Object(e)?on(e):sn(e)}var cn=ln;function un(e){return e!=null&&typeof e=="object"}var dn=un,hn=cn,fn=dn,pn="[object Symbol]";function vn(e){return typeof e=="symbol"||fn(e)&&hn(e)==pn}var gn=vn,mn=Vt,ae=xe,_n=gn,le=0/0,bn=/^[-+]0x[0-9a-f]+$/i,yn=/^0b[01]+$/i,wn=/^0o[0-7]+$/i,xn=parseInt;function Sn(e){if(typeof e=="number")return e;if(_n(e))return le;if(ae(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ae(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=mn(e);var n=yn.test(e);return n||wn.test(e)?xn(e.slice(2),n?2:8):bn.test(e)?le:+e}var On=Sn,Tn=xe,U=Gt,ce=On,jn="Expected a function",$n=Math.max,Cn=Math.min;function kn(e,t,n){var o,s,r,l,i,c,p=0,v=!1,y=!1,z=!0;if(typeof e!="function")throw new TypeError(jn);t=ce(t)||0,Tn(n)&&(v=!!n.leading,y="maxWait"in n,r=y?$n(ce(n.maxWait)||0,t):r,z="trailing"in n?!!n.trailing:z);function w(u){var x=o,E=s;return o=s=void 0,p=u,l=e.apply(E,x),l}function F(u){return p=u,i=setTimeout(O,t),v?w(u):l}function J(u){var x=u-c,E=u-p,oe=t-x;return y?Cn(oe,r-E):oe}function P(u){var x=u-c,E=u-p;return c===void 0||x>=t||x<0||y&&E>=r}function O(){var u=U();if(P(u))return ne(u);i=setTimeout(O,J(u))}function ne(u){return i=void 0,z&&o?w(u):(o=s=void 0,l)}function Ce(){i!==void 0&&clearTimeout(i),p=0,o=c=s=i=void 0}function ke(){return i===void 0?l:ne(U())}function V(){var u=U(),x=P(u);if(o=arguments,s=this,c=u,x){if(i===void 0)return F(c);if(y)return clearTimeout(i),i=setTimeout(O,t),w(c)}return i===void 0&&(i=setTimeout(O,t)),l}return V.cancel=Ce,V.flush=ke,V}var zn=kn;const Pn=zt(zn),En=a("g",{transform:"translate(-229 -126.358)"},[a("rect",{fill:"currentColor",width:"35",height:"5",rx:"2",transform:"translate(229 151.107) rotate(-45)"}),a("rect",{fill:"currentColor",width:"35",height:"5",rx:"2",transform:"translate(274.949 154.642) rotate(-135)"})],-1),In=[En],Mn=k({__name:"back-to-top",props:{threshold:{type:Number,default:300}},setup(e){const t=e,n=te(),o=$(()=>n.value&&n.value>t.threshold),s=()=>window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r=()=>{window.scrollTo({top:0,behavior:"smooth"}),n.value=0};return me(()=>{n.value=s();const l=Pn(()=>{n.value=s()},100);window.addEventListener("scroll",l,{passive:!0})}),(l,i)=>(h(),ge(Ie,{name:"fade"},{default:Z(()=>[o.value?(h(),f("svg",{key:0,class:"cursor-pointer fixed bottom-8 right-10 w-8 z-10 hover:text-[--vp-c-brand]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 49.484 28.284",onClick:r},In)):q("",!0)]),_:1}))}});const Ln=a("svg",{class:"absolute -left-6 -top-2 z-0 transform rotate-45 opacity-20",viewBox:"0 0 200 200",width:"80",height:"80",xmlns:"http://www.w3.org/2000/svg"},[a("path",{fill:"#059669",d:"M50.4,-15.8C59.3,10.9,56.2,42.1,36,58.9C15.9,75.8,-21.4,78.3,-41.8,62.4C-62.2,46.4,-65.8,11.9,-56,-16C-46.2,-43.9,-23.1,-65.4,-1.2,-65C20.8,-64.6,41.5,-42.4,50.4,-15.8Z",transform:"translate(100 100)"})],-1),An={class:"px-5 sm:px-7 md:px-10 text-center text-gray-400 text-sm my-5"},Rn={class:"text-center mb-5"},Bn=a("p",{class:"mb-3"},"© 2023 Recovery, All rights reserved.",-1),Gn=k({__name:"layout",setup(e){const{Layout:t}=et,n=Me("zoom"),{page:o}=_e();return Le(o,()=>{var s;n&&setTimeout(()=>{n.listen(".prose img:not(.zoom-exclude)")},500),typeof document<"u"&&((s=document.querySelector('meta[name="description"]'))==null||s.setAttribute("content",o.value.frontmatter.description))},{immediate:!0}),(s,r)=>(h(),f(L,null,[Y(g(t),null,{"nav-bar-title-before":Z(()=>[Ln]),"doc-bottom":Z(()=>[a("footer",An,[a("div",Rn,[Y(we)]),Bn])]),_:1}),Y(Mn)],64))}}),Nn="/assets/CSS.98e985db.svg",qn=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"})),Wn="/assets/Chrome.fe21ddaa.svg",Dn=Object.freeze(Object.defineProperty({__proto__:null,default:Wn},Symbol.toStringTag,{value:"Module"})),Fn="/assets/ESLint.f4df4736.svg",Jn=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),Vn="/assets/Github.bb374b67.svg",Yn=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"})),Xn="/assets/JavaScript.6889cec8.svg",Hn=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"})),Un="/assets/LeetCode.49163e27.svg",Kn=Object.freeze(Object.defineProperty({__proto__:null,default:Un},Symbol.toStringTag,{value:"Module"})),Qn="/assets/NodeJS.a792eb14.svg",Zn=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),eo="/assets/React.062fbb51.svg",to=Object.freeze(Object.defineProperty({__proto__:null,default:eo},Symbol.toStringTag,{value:"Module"})),no="/assets/Rollup.21d4f241.svg",oo=Object.freeze(Object.defineProperty({__proto__:null,default:no},Symbol.toStringTag,{value:"Module"})),so="/assets/TypeScript.7ca02273.svg",ro=Object.freeze(Object.defineProperty({__proto__:null,default:so},Symbol.toStringTag,{value:"Module"})),io="/assets/Vite.08f2ec8e.svg",ao=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"})),lo="/assets/Vue.76088084.svg",co=Object.freeze(Object.defineProperty({__proto__:null,default:lo},Symbol.toStringTag,{value:"Module"})),uo="/assets/Webpack.2c24244a.svg",ho=Object.freeze(Object.defineProperty({__proto__:null,default:uo},Symbol.toStringTag,{value:"Module"})),fo=a("div",{class:"w-full h-10 -z-10 absolute opacity-0 top-7 bg-[--vp-c-brand] group-hover:-top-1.5 group-hover:opacity-100"},null,-1),po=["href","target"],vo={class:"bg-[--vp-c-mute] z-10 rounded-b-sm"},go={class:"md:p-8 p-4 prose md:prose-xl"},mo={class:"pt-0 mb-5"},_o=["href","target"],bo={key:0},yo=a("svg",{class:"inline-flex mr-2",xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 -256 1850 1850"},[a("path",{d:"M1438.373 818.95v320q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h704q14 0 23 9t9 23v64q0 14-9 23t-23 9h-704q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-320q0-14 9-23t23-9h64q14 0 23 9t9 23zm384-864v512q0 26-19 45t-45 19q-26 0-45-19l-176-176-652 652q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l652-652-176-176q-19-19-19-45t19-45q19-19 45-19h512q26 0 45 19t19 45z",fill:"currentColor"})],-1),wo=[yo],xo={class:"text-xs text-[--vp-c-text-2]"},So={class:"mr-2"},Oo={key:0},To={class:"text-sm my-4 text-[--vp-c-text-2]"},jo={class:"text-xs flex"},$o=k({__name:"posts",setup(e){const t=Ae(),{posts:n}=be();t.path.replace("/index.html","/");const o=Object.assign({"../assets/icon/CSS.svg":qn,"../assets/icon/Chrome.svg":Dn,"../assets/icon/ESLint.svg":Jn,"../assets/icon/Github.svg":Yn,"../assets/icon/JavaScript.svg":Hn,"../assets/icon/LeetCode.svg":Kn,"../assets/icon/NodeJS.svg":Zn,"../assets/icon/React.svg":to,"../assets/icon/Rollup.svg":oo,"../assets/icon/TypeScript.svg":ro,"../assets/icon/Vite.svg":ao,"../assets/icon/Vue.svg":co,"../assets/icon/Webpack.svg":ho}),s=r=>{for(const[l,i]of Object.entries(o))if(l.includes(r))return i.default};return(r,l)=>(h(!0),f(L,null,N(g(n),i=>(h(),f("div",{key:i.title,class:"group relative mt-8 hover:shadow-lg"},[fo,a("a",{class:"absolute left-0 top-0 w-full h-full z-10 content",href:i.url,target:i.link?"_blank":""},null,8,po),a("div",vo,[a("div",go,[a("div",mo,[a("a",{href:i.url,target:i.link?"_blank":"",style:{"font-weight":"bold"},class:"md:text-2xl flex items-center"},[i.link?(h(),f("span",bo,wo)):q("",!0),a("span",null,b(i.title),1)],8,_o)]),a("div",xo,[a("time",So,b(i.date),1),i.readMins?(h(),f("span",Oo,"- "+b(i.readMins)+"min",1)):q("",!0)]),a("div",To,b(i.description),1),a("div",jo,[(h(!0),f(L,null,N(i.tags,c=>(h(),f("span",{key:c,class:"flex items-center mr-2 text-[--vp-c-text-2]"},[a("div",{class:"inline-block mr-1 zoom-exclude w-4 h-4",style:Re({backgroundImage:`url(${s(c)})`})},null,4),M(" "+b(c),1)]))),128))])])])]))),128))}});var T={default:"auto",zoomIn:"zoom-in",zoomOut:"zoom-out",grab:"grab",move:"move"};function d(e,t,n){var o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,s={passive:!1};o?e.addEventListener(t,n,s):e.removeEventListener(t,n,s)}function ue(e,t){if(e){var n=new Image;n.onload=function(){t&&t(n)},n.src=e}}function je(e){return e.dataset.original?e.dataset.original:e.parentNode.tagName==="A"?e.parentNode.getAttribute("href"):null}function S(e,t,n){ko(t);var o=e.style,s={};for(var r in t)n&&(s[r]=o[r]||""),o[r]=t[r];return s}function Co(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));n.forEach(function(s){e[s]=e[s].bind(t)})}var W={transitionProp:"transition",transEndEvent:"transitionend",transformProp:"transform",transformCssProp:"transform"},de=W.transformCssProp,_=W.transEndEvent;function ko(e){var t=W.transitionProp,n=W.transformProp;if(e.transition){var o=e.transition;delete e.transition,e[t]=o}if(e.transform){var s=e.transform;delete e.transform,e[n]=s}}var m=function(){},zo={enableGrab:!0,preloadImage:!1,closeOnWindowResize:!0,transitionDuration:.4,transitionTimingFunction:"cubic-bezier(0.4, 0, 0, 1)",bgColor:"rgb(255, 255, 255)",bgOpacity:1,scaleBase:1,scaleExtra:.5,scrollThreshold:40,zIndex:998,customSize:null,onOpen:m,onClose:m,onGrab:m,onMove:m,onRelease:m,onBeforeOpen:m,onBeforeClose:m,onBeforeGrab:m,onBeforeRelease:m,onImageLoading:m,onImageLoaded:m},he=200,Po={init:function(t){Co(this,t)},click:function(t){if(t.preventDefault(),K(t))return window.open(this.target.srcOriginal||t.currentTarget.src,"_blank");this.shown?this.released?this.close():this.release():this.open(t.currentTarget)},scroll:function(){var t=document.documentElement||document.body.parentNode||document.body,n=window.pageXOffset||t.scrollLeft,o=window.pageYOffset||t.scrollTop;this.lastScrollPosition===null&&(this.lastScrollPosition={x:n,y:o});var s=this.lastScrollPosition.x-n,r=this.lastScrollPosition.y-o,l=this.options.scrollThreshold;(Math.abs(r)>=l||Math.abs(s)>=l)&&(this.lastScrollPosition=null,this.close())},keydown:function(t){Io(t)&&(this.released?this.close():this.release(this.close))},mousedown:function(t){if(!(!fe(t)||K(t))){t.preventDefault();var n=t.clientX,o=t.clientY;this.pressTimer=setTimeout((function(){this.grab(n,o)}).bind(this),he)}},mousemove:function(t){this.released||this.move(t.clientX,t.clientY)},mouseup:function(t){!fe(t)||K(t)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},touchstart:function(t){t.preventDefault();var n=t.touches[0],o=n.clientX,s=n.clientY;this.pressTimer=setTimeout((function(){this.grab(o,s)}).bind(this),he)},touchmove:function(t){if(!this.released){var n=t.touches[0],o=n.clientX,s=n.clientY;this.move(o,s)}},touchend:function(t){Eo(t)||(clearTimeout(this.pressTimer),this.released?this.close():this.release())},clickOverlay:function(){this.close()},resizeWindow:function(){this.close()}};function fe(e){return e.button===0}function K(e){return e.metaKey||e.ctrlKey}function Eo(e){e.targetTouches.length>0}function Io(e){var t=e.key||e.code;return t==="Escape"||e.keyCode===27}var Mo={init:function(t){this.el=document.createElement("div"),this.instance=t,this.parent=document.body,S(this.el,{position:"fixed",top:0,left:0,right:0,bottom:0,opacity:0}),this.updateStyle(t.options),d(this.el,"click",t.handler.clickOverlay.bind(t))},updateStyle:function(t){S(this.el,{zIndex:t.zIndex,backgroundColor:t.bgColor,transition:`opacity
        `+t.transitionDuration+`s
        `+t.transitionTimingFunction})},insert:function(){this.parent.appendChild(this.el)},remove:function(){this.parent.removeChild(this.el)},fadeIn:function(){this.el.offsetWidth,this.el.style.opacity=this.instance.options.bgOpacity},fadeOut:function(){this.el.style.opacity=0}},Lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ao=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},Ro=function(){function e(t,n){for(var o=0;o<n.length;o++){var s=n[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Q=0,Bo={init:function(t,n){this.el=t,this.instance=n,this.srcThumbnail=this.el.getAttribute("src"),this.srcset=this.el.getAttribute("srcset"),this.srcOriginal=je(this.el),this.rect=this.el.getBoundingClientRect(),this.translate=null,this.scale=null,this.styleOpen=null,this.styleClose=null},zoomIn:function(){var t=this.instance.options,n=t.zIndex,o=t.enableGrab,s=t.transitionDuration,r=t.transitionTimingFunction;this.translate=this.calculateTranslate(),this.scale=this.calculateScale(),this.styleOpen={position:"relative",zIndex:n+1,cursor:o?T.grab:T.zoomOut,transition:de+`
        `+s+`s
        `+r,transform:"translate3d("+this.translate.x+"px, "+this.translate.y+"px, "+Q+`px)
        scale(`+this.scale.x+","+this.scale.y+")",height:this.rect.height+"px",width:this.rect.width+"px"},this.el.offsetWidth,this.styleClose=S(this.el,this.styleOpen,!0)},zoomOut:function(){this.el.offsetWidth,S(this.el,{transform:"none"})},grab:function(t,n,o){var s=G(),r=s.x-t,l=s.y-n;S(this.el,{cursor:T.move,transform:`translate3d(
        `+(this.translate.x+r)+"px, "+(this.translate.y+l)+"px, "+Q+`px)
        scale(`+(this.scale.x+o)+","+(this.scale.y+o)+")"})},move:function(t,n,o){var s=G(),r=s.x-t,l=s.y-n;S(this.el,{transition:de,transform:`translate3d(
        `+(this.translate.x+r)+"px, "+(this.translate.y+l)+"px, "+Q+`px)
        scale(`+(this.scale.x+o)+","+(this.scale.y+o)+")"})},restoreCloseStyle:function(){S(this.el,this.styleClose)},restoreOpenStyle:function(){S(this.el,this.styleOpen)},upgradeSource:function(){if(this.srcOriginal){var t=this.el.parentNode;this.srcset&&this.el.removeAttribute("srcset");var n=this.el.cloneNode(!1);n.setAttribute("src",this.srcOriginal),n.style.position="fixed",n.style.visibility="hidden",t.appendChild(n),setTimeout((function(){this.el.setAttribute("src",this.srcOriginal),t.removeChild(n)}).bind(this),50)}},downgradeSource:function(){this.srcOriginal&&(this.srcset&&this.el.setAttribute("srcset",this.srcset),this.el.setAttribute("src",this.srcThumbnail))},calculateTranslate:function(){var t=G(),n={x:this.rect.left+this.rect.width/2,y:this.rect.top+this.rect.height/2};return{x:t.x-n.x,y:t.y-n.y}},calculateScale:function(){var t=this.el.dataset,n=t.zoomingHeight,o=t.zoomingWidth,s=this.instance.options,r=s.customSize,l=s.scaleBase;if(!r&&n&&o)return{x:o/this.rect.width,y:n/this.rect.height};if(r&&(typeof r>"u"?"undefined":Lo(r))==="object")return{x:r.width/this.rect.width,y:r.height/this.rect.height};var i=this.rect.width/2,c=this.rect.height/2,p=G(),v={x:p.x-i,y:p.y-c},y=v.x/i,z=v.y/c,w=l+Math.min(y,z);if(r&&typeof r=="string"){var F=o||this.el.naturalWidth,J=n||this.el.naturalHeight,P=parseFloat(r)*F/(100*this.rect.width),O=parseFloat(r)*J/(100*this.rect.height);if(w>P||w>O)return{x:P,y:O}}return{x:w,y:w}}};function G(){var e=document.documentElement,t=Math.min(e.clientWidth,window.innerWidth),n=Math.min(e.clientHeight,window.innerHeight);return{x:t/2,y:n/2}}var Go=function(){function e(t){Ao(this,e),this.target=Object.create(Bo),this.overlay=Object.create(Mo),this.handler=Object.create(Po),this.body=document.body,this.shown=!1,this.lock=!1,this.released=!0,this.lastScrollPosition=null,this.pressTimer=null,this.options=pe({},zo,t),this.overlay.init(this),this.handler.init(this)}return Ro(e,[{key:"listen",value:function(n){if(typeof n=="string")for(var o=document.querySelectorAll(n),s=o.length;s--;)this.listen(o[s]);else n.tagName==="IMG"&&(n.style.cursor=T.zoomIn,d(n,"click",this.handler.click),this.options.preloadImage&&ue(je(n)));return this}},{key:"config",value:function(n){return n?(pe(this.options,n),this.overlay.updateStyle(this.options),this):this.options}},{key:"open",value:function(n){var o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.onOpen;if(!(this.shown||this.lock)){var r=typeof n=="string"?document.querySelector(n):n;if(r.tagName==="IMG"){if(this.options.onBeforeOpen(r),this.target.init(r,this),!this.options.preloadImage){var l=this.target.srcOriginal;l!=null&&(this.options.onImageLoading(r),ue(l,this.options.onImageLoaded))}this.shown=!0,this.lock=!0,this.target.zoomIn(),this.overlay.insert(),this.overlay.fadeIn(),d(document,"scroll",this.handler.scroll),d(document,"keydown",this.handler.keydown),this.options.closeOnWindowResize&&d(window,"resize",this.handler.resizeWindow);var i=function c(){d(r,_,c,!1),o.lock=!1,o.target.upgradeSource(),o.options.enableGrab&&ve(document,o.handler,!0),s(r)};return d(r,_,i),this}}}},{key:"close",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.onClose;if(!(!this.shown||this.lock)){var s=this.target.el;this.options.onBeforeClose(s),this.lock=!0,this.body.style.cursor=T.default,this.overlay.fadeOut(),this.target.zoomOut(),d(document,"scroll",this.handler.scroll,!1),d(document,"keydown",this.handler.keydown,!1),this.options.closeOnWindowResize&&d(window,"resize",this.handler.resizeWindow,!1);var r=function l(){d(s,_,l,!1),n.shown=!1,n.lock=!1,n.target.downgradeSource(),n.options.enableGrab&&ve(document,n.handler,!1),n.target.restoreCloseStyle(),n.overlay.remove(),o(s)};return d(s,_,r),this}}},{key:"grab",value:function(n,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.options.onGrab;if(!(!this.shown||this.lock)){var l=this.target.el;this.options.onBeforeGrab(l),this.released=!1,this.target.grab(n,o,s);var i=function c(){d(l,_,c,!1),r(l)};return d(l,_,i),this}}},{key:"move",value:function(n,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.options.scaleExtra,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:this.options.onMove;if(!(!this.shown||this.lock)){this.released=!1,this.body.style.cursor=T.move,this.target.move(n,o,s);var l=this.target.el,i=function c(){d(l,_,c,!1),r(l)};return d(l,_,i),this}}},{key:"release",value:function(){var n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.onRelease;if(!(!this.shown||this.lock)){var s=this.target.el;this.options.onBeforeRelease(s),this.lock=!0,this.body.style.cursor=T.default,this.target.restoreOpenStyle();var r=function l(){d(s,_,l,!1),n.lock=!1,n.released=!0,o(s)};return d(s,_,r),this}}}]),e}();function ve(e,t,n){var o=["mousedown","mousemove","mouseup","touchstart","touchmove","touchend"];o.forEach(function(r){d(e,r,t[r],n)})}const No={Layout:Gn,enhanceApp({app:e}){if(e.component("Posts",$o),e.component("Pagination",ut),e.component("Icons",we),typeof document>"u"||typeof window>"u")return;const t=new Go;t.config({scaleBase:.75,bgOpacity:0}),e.provide("zoom",t)}};function $e(e){if(e.extends){const t=$e(e.extends);return{...t,...e,async enhanceApp(n){t.enhanceApp&&await t.enhanceApp(n),e.enhanceApp&&await e.enhanceApp(n)}}}return e}const C=$e(No),qo=k({name:"VitePressApp",setup(){const{site:e}=_e();return me(()=>{He(()=>{document.documentElement.lang=e.value.lang,document.documentElement.dir=e.value.dir})}),Ue(),Ke(),Qe(),C.setup&&C.setup(),()=>Ze(C.Layout)}});async function Wo(){const e=Fo(),t=Do();t.provide(Ge,e);const n=Ne(e.route);return t.provide(qe,n),t.component("Content",We),t.component("ClientOnly",De),Object.defineProperties(t.config.globalProperties,{$frontmatter:{get(){return n.frontmatter.value}},$params:{get(){return n.page.value.params}}}),C.enhanceApp&&await C.enhanceApp({app:t,router:e,siteData:Fe}),{app:t,router:e,data:n}}function Do(){return Je(qo)}function Fo(){let e=ee,t;return Ve(n=>{let o=Ye(n);return o?(e&&(t=o),(e||t===o)&&(o=o.replace(/\.js$/,".lean.js")),ee&&(e=!1),Xe(()=>import(o),[])):null},C.NotFound)}ee&&Wo().then(({app:e,router:t,data:n})=>{t.go().then(()=>{Be(t.route,n.site),e.mount("#app")})});export{Wo as createApp};
